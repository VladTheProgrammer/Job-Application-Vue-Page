import{h as U,i as V,j as ee,k as Z,l as E,n as te,q as oe,s,t as ne,v as z,x as ae,y as M,z as se,A as q,B as ue}from"./index.67db4193.js";const O=Symbol.for("vuetify:layout"),D=Symbol.for("vuetify:layout-item"),N=1e3,ce=U({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ve=U({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ye(){const a=V(O);if(!a)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:a.getLayoutItem,mainRect:a.mainRect,mainStyles:a.mainStyles}}function de(a){var d;const u=V(O);if(!u)throw new Error("[Vuetify] Could not find injected layout");const l=(d=a.id)!=null?d:`layout-item-${ee()}`,i=Z("useLayoutItem");q(D,{id:l});const n=E(!1);te(()=>n.value=!0),oe(()=>n.value=!1);const{layoutItemStyles:c,layoutItemScrimStyles:v}=u.register(i,{...a,active:s(()=>n.value?!1:a.active.value),id:l});return ne(()=>u.unregister(l)),{layoutItemStyles:c,layoutRect:u.layoutRect,layoutItemScrimStyles:v}}const le=(a,u,l,i)=>{let n={top:0,left:0,right:0,bottom:0};const c=[{id:"",layer:{...n}}];for(const v of a){const d=u.get(v),g=l.get(v),$=i.get(v);if(!d||!g||!$)continue;const h={...n,[d.value]:parseInt(n[d.value],10)+($.value?parseInt(g.value,10):0)};c.push({id:v,layer:h}),n=h}return c};function fe(a){const u=V(O,null),l=s(()=>u?u.rootZIndex.value-100:N),i=E([]),n=z(new Map),c=z(new Map),v=z(new Map),d=z(new Map),g=z(new Map),{resizeRef:$,contentRect:h}=ae(),X=s(()=>{var e;const t=new Map,r=(e=a.overlaps)!=null?e:[];for(const p of r.filter(o=>o.includes(":"))){const[o,y]=p.split(":");if(!i.value.includes(o)||!i.value.includes(y))continue;const m=n.get(o),S=n.get(y),w=c.get(o),R=c.get(y);!m||!S||!w||!R||(t.set(y,{position:m.value,amount:parseInt(w.value,10)}),t.set(o,{position:S.value,amount:-parseInt(R.value,10)}))}return t}),I=s(()=>{const t=[...new Set([...v.values()].map(e=>e.value))].sort((e,p)=>e-p),r=[];for(const e of t){const p=i.value.filter(o=>{var y;return((y=v.get(o))==null?void 0:y.value)===e});r.push(...p)}return le(r,n,c,d)}),j=s(()=>!Array.from(g.values()).some(t=>t.value)),x=s(()=>I.value[I.value.length-1].layer),F=s(()=>({"--v-layout-left":M(x.value.left),"--v-layout-right":M(x.value.right),"--v-layout-top":M(x.value.top),"--v-layout-bottom":M(x.value.bottom),...j.value?void 0:{transition:"none"}})),b=s(()=>I.value.slice(1).map((t,r)=>{let{id:e}=t;const{layer:p}=I.value[r],o=c.get(e),y=n.get(e);return{id:e,...p,size:Number(o.value),position:y.value}})),k=t=>b.value.find(r=>r.id===t),A=Z("createLayout"),B=E(!1);se(()=>{B.value=!0}),q(O,{register:(t,r)=>{let{id:e,order:p,position:o,layoutSize:y,elementSize:m,active:S,disableTransitions:w,absolute:R}=r;v.set(e,p),n.set(e,o),c.set(e,y),d.set(e,S),w&&g.set(e,w);const H=ue(D,A==null?void 0:A.vnode).indexOf(t);H>-1?i.value.splice(H,0,e):i.value.push(e);const T=s(()=>b.value.findIndex(L=>L.id===e)),C=s(()=>l.value+I.value.length*2-T.value*2),G=s(()=>{const L=o.value==="left"||o.value==="right",P=o.value==="right",Q=o.value==="bottom",K={[o.value]:0,zIndex:C.value,transform:`translate${L?"X":"Y"}(${(S.value?0:-110)*(P||Q?-1:1)}%)`,position:R.value||l.value!==N?"absolute":"fixed",...j.value?void 0:{transition:"none"}};if(!B.value)return K;const f=b.value[T.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const _=X.value.get(e);return _&&(f[_.position]+=_.amount),{...K,height:L?`calc(100% - ${f.top}px - ${f.bottom}px)`:m.value?`${m.value}px`:void 0,left:P?void 0:`${f.left}px`,right:P?`${f.right}px`:void 0,top:o.value!=="bottom"?`${f.top}px`:void 0,bottom:o.value!=="top"?`${f.bottom}px`:void 0,width:L?m.value?`${m.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),J=s(()=>({zIndex:C.value-1}));return{layoutItemStyles:G,layoutItemScrimStyles:J,zIndex:C}},unregister:t=>{v.delete(t),n.delete(t),c.delete(t),d.delete(t),g.delete(t),i.value=i.value.filter(r=>r!==t)},mainRect:x,mainStyles:F,getLayoutItem:k,items:b,layoutRect:h,rootZIndex:l});const W=s(()=>["v-layout",{"v-layout--full-height":a.fullHeight}]),Y=s(()=>({zIndex:l.value,position:u?"relative":void 0,overflow:u?"hidden":void 0}));return{layoutClasses:W,layoutStyles:Y,getLayoutItem:k,items:b,layoutRect:h,layoutRef:$}}const pe=(a,u)=>{const l=a.__vccOpts||a;for(const[i,n]of u)l[i]=n;return l};export{pe as _,ve as a,de as b,fe as c,ce as m,ye as u};
